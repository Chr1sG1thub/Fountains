<html>
  <head>
  </head>
  <body>
    <table>
  <thead><tr><th>Lat</th></th><th>Lon</th><th>Name</th></tr></thead>
  <tbody id="table-body"></tbody>
</table>

<form id="entry-form">
  <h3>Add New Financial Entry</h3>

  <label for="Lat">Lat:</label>
  <input type="number" id="Lat" name="Lat" required>

  <label for="Lon">Lon:</label>
  <input type="number" id="Lon" name="Lon" required>

  <label for="Name">Name:</label>
  <input type="text" id="Name" name="Name" required>

  <button type="submit">Submit</button>
</form>

    <canvas id="linechart"></canvas>


  <script>
    fetch('https://sheetdb.io/api/v1/6mtneh34kqqbb')
  .then(res => res.json())
  .then(data => {
      const table = document.getElementById('table-body');
      data.forEach(row => {
          // adjust keys for your sheet columns
          table.innerHTML += `<tr><td>${row.Lat}</td><td>${row.Lon}</td><td>${row.Name}</td></tr>`;
      });
  });
const form = document.getElementById('entry-form');
form.onsubmit = async (e) => {
  e.preventDefault();
  const Lat = form.Lat.value;
  const Lon = form.Lon.value;
  const Name = form.Name.value;
  await fetch('https://sheetdb.io/api/v1/6mtneh34kqqbb', {
    method: 'POST',
    body: JSON.stringify([{Lat, Lon, Name}]),
    headers: { 'Content-Type': 'application/json' }
  });
};
  </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  
</script>// Setup chart data from fetched rows
const Lats = [], Lons = [];
data.forEach(row => {
  Lats.push(row.Lat);
  Lons.push(row.Lon);
  //totals.push(parseFloat(row.value)); // Adjust aggregation if needed
});
// Render Chart.js line chart
new Chart(document.getElementById('linechart').getContext('2d'), {
  type: 'line',
  data: {
    labels: Lats,
    datasets: [{
      label: "Lons",
      data: Lons,
      borderColor: "green",
      fill: false
    }]
  }
});
  </script>

  </body>
</html>
